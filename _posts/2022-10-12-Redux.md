---
layout: single
title: "[react] redux persist"
categories: react
tags: react
toc: true
sidebar:
  nav: "docs"
---

ìƒˆë¡œê³ ì¹¨ í›„ì—ë„ ë¦¬ë•ìŠ¤ì˜ ë°ì´í„°ë¥¼ ìœ ì§€í•˜ëŠ” ë°©ë²• ğŸ“•



#### Redux-persist

---

Redux-persistëŠ” localStorage ë˜ëŠ” sessionStorageì— redux stateë¥¼ ì €ì¥í•˜ì—¬ ìƒˆë¡œê³ ì¹¨ í›„ì—ë„ reduxë°ì´í„°ê°€ ìœ ì§€ë˜ëŠ” ê¸°ëŠ¥ì´ë‹¤.



#### ì‚¬ìš©í•˜ê¸°

---

- ì„¤ì¹˜í•˜ê¸°

  ```bash
  yarn add redux redux-persist



- reducerì— persist store ì •ì˜

  ```javascript
  import { createStore } from 'redux'
  import { persistStore, persistReducer } from "redux-persist";
  import storage from "redux-persist/lib/storage"
  
  import REDUCER_NAME from 'REDUCER_PATH'
  import REDUCER_NAME from 'REDUCER_PATH'
  
  const persistConfig = {
      key: 'root',
      storage: storage,
      whitelist: ['REDUCER_NAME']					  // ë°°ì—´ë¡œ ë°›ì€ reducerë§Œ localStorageì— ì €ì¥í•œë‹¤.
      // blacklist: ['REDUCER_NAME', 'REDUCER_NAME'] â†’ ë°°ì—´ë¡œ ë°›ì€ reducerë§Œ ì œì™¸í•˜ê³  localStorageì— ì €ì¥í•œë‹¤.
  }
  
  export const rootReducer = {
      REDUCER_NAME: REDUCER_NAME,
      REDUCER_NAME: REDUCER_NAME
  }
  
  persistReducer = persistReducer(persistConfig, rootReducer);
  
  export default () => {
      const store = createStore(persistReducer);
  	const persistor = persistStore(store);
      return { store, persistor }
  }
  ```

  ìœ„ ì˜ˆì œëŠ” localStorageê¸°ì¤€ì´ë©° sessionStorageë¥¼ ì‚¬ìš©í•  ê²½ìš° `import storageSession from 'redux-persist/lib/storage/session` ë¥¼ ì‚¬ìš©í•œë‹¤.



- persist store index.js ë“±ë¡

  â€» ì¼ë°˜ Reduxì—ì„œ ì¶”ê°€ëœ ë¶€ë¶„ë§Œ ê¸°ì¬í•¨

  ```javascript
  // index.js
  import { PersistGate } from "redux-persist/integration/react";
  import { store, persistor } from './redux/config/configStore';
  
  root.render(
    <Provider store={store}>
      <PersistGate loading={null} persistor={persistor}>
      <App />
      </PersistGate>
    </Provider>
  );
  ```

  



#### ì¶œì²˜

> - https://www.npmjs.com/package/redux-persist
> - https://kyounghwan01.github.io/blog/React/redux/redux-persist/#persist-store-%E1%84%89%E1%85%A1%E1%84%8B%E1%85%AD%E1%86%BC